extends layout.pug
include utils.pug
block content
  .top
  div.game-info
    .game-image
      img#game-image-tag(src=game.gameImage, alt="Game cover art")
    .top-content
      h2= game.name
      <p>Studio - <span>XX/XX/XXXX</span></p>
      <h2>X<span>/10</span></h2>
      p= game.genre
      span
      span
      span
  .game-description
    p= game.bio
  +validationErrors(errors)
  if locals.authenticated
    .review-form-div
      form#review-form(action=`/games/${gameId}` method="post")
        h4#review-form-title New Review
        input(type="hidden" id="gameId" name='gameId' value=gameId)
        input(type="hidden" id="userId" name='userId' value=userId)
        input(type="hidden" name="_csrf" value=csrfToken)
        textarea#review-textbox(name="content" required)
        button#submit-review Submit Review
        //- Value not yet accounted for in database
        //- ======================================
        //- select(name="reviewScore")
        //-   option(value="1") 1
        //-   option(value="2") 2
        //-   option(value="3") 3
        //-   option(value="4") 4
        //-   option(value="5") 5
        //-   option(value="6") 6
        //-   option(value="7") 7
        //-   option(value="8") 8
        //-   option(value="9") 9
        //-   option(value="10") 10


  block reviewContent
  .reviews
    .review-container
      each review in reviews
        .rev-sub-container
          p.comment= review.content
          p=review.score
          if locals.authenticated
            form(action=`/games/${gameId}/likes` method="POST")
              input(type="hidden" name="_csrf" value=csrfToken)
              button(type="submit" value=review.id name="like") Like
            form(action=`/games/${gameId}/likes` method="POST")
              input(type="hidden" name="_csrf" value=csrfToken)
              button(type="submit" value=review.id name="dislike") Dislike
